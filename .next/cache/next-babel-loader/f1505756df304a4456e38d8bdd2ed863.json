{"ast":null,"code":"// import { LayoutService, RestLayoutService } from '@sitecore-jss/sitecore-jss-Header';\n// import config from 'temp/config';\n//\n// export class LayoutServiceFactory {\n//   create(): LayoutService {\n//     return new RestLayoutService({\n//       apiHost: config.sitecoreApiHost,\n//       apiKey: config.sitecoreApiKey,\n//       siteName: config.jssAppName,\n//       configurationName: 'default',\n//     });\n//   }\n// }\n//\n// export const layoutServiceFactory = new LayoutServiceFactory();\nimport { GraphQLLayoutService, RestLayoutService, JSS_MODE_DISCONNECTED } from '@sitecore-jss/sitecore-jss-nextjs';\nimport config from 'temp/config';\nexport class LayoutServiceFactory {\n  create() {\n    // Switch to REST endpoint if we are in disconnected mode\n    if (process.env.JSS_MODE === JSS_MODE_DISCONNECTED) {\n      return new RestLayoutService({\n        apiHost: `http://localhost:${process.env.PROXY_PORT || 3042}`,\n        apiKey: config.sitecoreApiKey,\n        siteName: config.jssAppName\n      });\n    }\n\n    return new GraphQLLayoutService({\n      endpoint: config.graphQLEndpoint,\n      apiKey: config.sitecoreApiKey,\n      siteName: config.jssAppName\n    });\n  }\n\n}\nexport const layoutServiceFactory = new LayoutServiceFactory();","map":{"version":3,"sources":["C:/NEXT/sitecore/src/lib/layout-service-factory.ts"],"names":["GraphQLLayoutService","RestLayoutService","JSS_MODE_DISCONNECTED","config","LayoutServiceFactory","create","process","env","JSS_MODE","apiHost","PROXY_PORT","apiKey","sitecoreApiKey","siteName","jssAppName","endpoint","graphQLEndpoint","layoutServiceFactory"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAEEA,oBAFF,EAGEC,iBAHF,EAIEC,qBAJF,QAKO,mCALP;AAMA,OAAOC,MAAP,MAAmB,aAAnB;AAEA,OAAO,MAAMC,oBAAN,CAA2B;AAChCC,EAAAA,MAAM,GAAkB;AACtB;AACA,QAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyBN,qBAA7B,EAAoD;AAClD,aAAO,IAAID,iBAAJ,CAAsB;AAC3BQ,QAAAA,OAAO,EAAG,oBAAmBH,OAAO,CAACC,GAAR,CAAYG,UAAZ,IAA0B,IAAK,EADjC;AAE3BC,QAAAA,MAAM,EAAER,MAAM,CAACS,cAFY;AAG3BC,QAAAA,QAAQ,EAAEV,MAAM,CAACW;AAHU,OAAtB,CAAP;AAKD;;AAED,WAAO,IAAId,oBAAJ,CAAyB;AAC9Be,MAAAA,QAAQ,EAAEZ,MAAM,CAACa,eADa;AAE9BL,MAAAA,MAAM,EAAER,MAAM,CAACS,cAFe;AAG9BC,MAAAA,QAAQ,EAAEV,MAAM,CAACW;AAHa,KAAzB,CAAP;AAKD;;AAhB+B;AAmBlC,OAAO,MAAMG,oBAAoB,GAAG,IAAIb,oBAAJ,EAA7B","sourcesContent":["// import { LayoutService, RestLayoutService } from '@sitecore-jss/sitecore-jss-Header';\r\n// import config from 'temp/config';\r\n//\r\n// export class LayoutServiceFactory {\r\n//   create(): LayoutService {\r\n//     return new RestLayoutService({\r\n//       apiHost: config.sitecoreApiHost,\r\n//       apiKey: config.sitecoreApiKey,\r\n//       siteName: config.jssAppName,\r\n//       configurationName: 'default',\r\n//     });\r\n//   }\r\n// }\r\n//\r\n// export const layoutServiceFactory = new LayoutServiceFactory();\r\n\r\nimport {\r\n  LayoutService,\r\n  GraphQLLayoutService,\r\n  RestLayoutService,\r\n  JSS_MODE_DISCONNECTED,\r\n} from '@sitecore-jss/sitecore-jss-nextjs';\r\nimport config from 'temp/config';\r\n\r\nexport class LayoutServiceFactory {\r\n  create(): LayoutService {\r\n    // Switch to REST endpoint if we are in disconnected mode\r\n    if (process.env.JSS_MODE === JSS_MODE_DISCONNECTED) {\r\n      return new RestLayoutService({\r\n        apiHost: `http://localhost:${process.env.PROXY_PORT || 3042}`,\r\n        apiKey: config.sitecoreApiKey,\r\n        siteName: config.jssAppName,\r\n      });\r\n    }\r\n\r\n    return new GraphQLLayoutService({\r\n      endpoint: config.graphQLEndpoint,\r\n      apiKey: config.sitecoreApiKey,\r\n      siteName: config.jssAppName,\r\n    });\r\n  }\r\n}\r\n\r\nexport const layoutServiceFactory = new LayoutServiceFactory();\r\n"]},"metadata":{},"sourceType":"module"}